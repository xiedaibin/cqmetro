<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>重庆地铁票价计算器 - 官方颜色版</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }
        
        .selection-area {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .selection-group {
            flex: 1;
            min-width: 300px;
        }
        
        .selection-group h3 {
            margin-bottom: 15px;
            color: #555;
        }
        
        select {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            margin-bottom: 10px;
        }
        
        select:focus {
            outline: none;
            border-color: #007bff;
        }
        
        .selected-info {
            padding: 10px;
            background-color: #e9ecef;
            border-radius: 5px;
            margin-top: 10px;
            display: none;
        }
        
        .calculate-btn {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 5px;
            font-size: 18px;
            cursor: pointer;
            width: 100%;
            margin-bottom: 20px;
        }
        
        .calculate-btn:hover {
            background-color: #0056b3;
        }
        
        .result {
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
            border-radius: 5px;
            padding: 20px;
            margin-top: 20px;
            display: none;
        }
        
        .result h3 {
            margin-top: 0;
            color: #155724;
        }
        
        .result p {
            margin: 10px 0;
            font-size: 16px;
        }
        
        /* 重庆地铁官方颜色 - 根据PT色号 */
        .line-color-1 { color: #E74C3C; font-weight: bold; } /* 1号线红色 PT185C */
        .line-color-2 { color: #27AE60; font-weight: bold; } /* 2号线绿色 PT356C */
        .line-color-3 { color: #2C3E50; font-weight: bold; } /* 3号线深蓝色 PT293C */
        .line-color-4 { color: #E67E22; font-weight: bold; } /* 4号线橙色 PT7413C */
        .line-color-5 { color: #3498DB; font-weight: bold; } /* 5号线浅蓝色 PT299C */
        .line-color-6 { color: #E91E63; font-weight: bold; } /* 6号线粉色 PT190C */
        .line-color-9 { color: #8B0000; font-weight: bold; } /* 9号线深红色 PT208C */
        .line-color-10 { color: #9B59B6; font-weight: bold; } /* 10号线紫色 PT267C */
        .line-color-18 { color: #FF6B35; font-weight: bold; } /* 18号线橙红色 */
        .line-color-国博 { color: #E74C3C; font-weight: bold; } /* 国博线红色 */
        .line-color-环 { color: #F4D03F; font-weight: bold; } /* 环线浅金色 PT7503C */
        .line-color-huan { color: #F4D03F; font-weight: bold; } /* 环线浅金色 PT7503C */
        .line-color-gbx { color: #E74C3C; font-weight: bold; } /* 国博线红色 */
        
        .error {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
            padding: 10px;
            border-radius: 5px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🚊 重庆地铁票价计算器</h1>
        
        <div class="selection-area">
            <div class="selection-group">
                <h3>起点站</h3>
                <select id="startLine" onchange="updateStationList('start')">
                    <option value="">请选择线路</option>
                    <option value="1">1号线</option>
                    <option value="2">2号线</option>
                    <option value="3">3号线</option>
                    <option value="4">4号线</option>
                    <option value="5">5号线</option>
                    <option value="6">6号线</option>
                    <option value="9">9号线</option>
                    <option value="10">10号线</option>
                    <option value="18">18号线</option>
                    <option value="环">环线</option>
                    <option value="国博">国博线</option>
                </select>
                <select id="startStation" onchange="onStationChange('start')" disabled>
                    <option value="">请先选择线路</option>
                </select>
                <div id="startSelected" class="selected-info"></div>
            </div>
            
            <div class="selection-group">
                <h3>终点站</h3>
                <select id="endLine" onchange="updateStationList('end')">
                    <option value="">请选择线路</option>
                    <option value="1">1号线</option>
                    <option value="2">2号线</option>
                    <option value="3">3号线</option>
                    <option value="4">4号线</option>
                    <option value="5">5号线</option>
                    <option value="6">6号线</option>
                    <option value="9">9号线</option>
                    <option value="10">10号线</option>
                    <option value="18">18号线</option>
                    <option value="环">环线</option>
                    <option value="国博">国博线</option>
                </select>
                <select id="endStation" onchange="onStationChange('end')" disabled>
                    <option value="">请先选择线路</option>
                </select>
                <div id="endSelected" class="selected-info"></div>
            </div>
        </div>
        
        <button class="calculate-btn" onclick="calculateFare()">🔍 计算票价</button>
        
        <div id="result" class="result"></div>
    </div>

    <script>
        // 线路配置映射 - 使用官方颜色
        const lineConfig = {
            '1': { 
                stations: ['小什字', '较场口', '七星岗', '两路口', '鹅岭', '大坪', '石油路', '歇台子', '石桥铺', '高庙村', '马家岩', '小龙坎', '沙坪坝', '杨公桥', '烈士墓', '磁器口', '石井坡', '双碑', '赖家桥', '微电园', '陈家桥', '大学城', '尖顶坡', '璧山'], 
                colorClass: 'line-color-1' 
            },
            '2': { 
                stations: ['较场口', '临江门', '黄花园', '大溪沟', '曾家岩', '牛角沱', '李子坝', '佛图关', '大坪', '袁家岗', '谢家湾', '杨家坪', '动物园', '大堰村', '马王场', '平安', '大渡口', '新山村', '天堂堡', '建桥', '金家湾', '刘家坝', '白居寺', '大江', '鱼洞'], 
                colorClass: 'line-color-2' 
            },
            '3': { 
                stations: ['江北机场T2航站楼', '碧津', '双龙', '回兴', '长福路', '翠云', '园博园', '鸳鸯', '金童路', '金渝', '童家院子', '龙头寺', '重庆北站南广场', '重庆北站北广场', '龙头寺', '华新街', '观音桥', '红旗河沟', '嘉州路', '郑家院子', '唐家院子', '狮子坪', '重庆北站南广场'], 
                colorClass: 'line-color-3' 
            },
            '4': { 
                stations: ['唐家沱', '华新街', '观音桥', '红旗河沟', '嘉州路', '郑家院子', '唐家院子', '狮子坪', '重庆北站南广场', '龙头寺', '华新街', '观音桥', '红旗河沟', '嘉州路', '郑家院子', '唐家院子', '狮子坪', '重庆北站南广场'], 
                colorClass: 'line-color-4' 
            },
            '5': { 
                stations: ['园博中心', '丹鹤', '湖霞街', '重光', '和睦路', '人和', '幸福广场', '冉家坝', '大龙山', '大石坝', '石桥铺', '歇台子', '石桥铺', '高庙村', '马家岩', '小龙坎', '沙坪坝', '杨公桥', '烈士墓', '磁器口', '石井坡', '双碑', '赖家桥', '微电园', '陈家桥', '大学城', '尖顶坡', '璧山'], 
                colorClass: 'line-color-5' 
            },
            '6': { 
                stations: ['茶园', '邱家湾', '长生桥', '刘家坪', '上新街', '小什字', '较场口', '七星岗', '两路口', '鹅岭', '大坪', '石油路', '歇台子', '石桥铺', '高庙村', '马家岩', '小龙坎', '沙坪坝', '杨公桥', '烈士墓', '磁器口', '石井坡', '双碑', '赖家桥', '微电园', '陈家桥', '大学城', '尖顶坡', '璧山'], 
                colorClass: 'line-color-6' 
            },
            '9': { 
                stations: ['高滩岩', '天梨路', '沙坪坝', '小龙坎', '土湾', '红岩村', '富华路', '化龙桥', '李家坪', '蚂蝗梁', '观音桥', '鲤鱼池', '刘家台', '江北城', '五里店', '黄泥塝', '红土地', '龙头寺', '重庆北站南广场'], 
                colorClass: 'line-color-9' 
            },
            '10': { 
                stations: ['王家庄', '中央公园', '中央公园东', '鹿山', '渝北广场', '江北机场T2航站楼', '碧津', '双龙', '回兴', '长福路', '翠云', '园博园', '鸳鸯', '金童路', '金渝', '童家院子', '龙头寺', '重庆北站南广场'], 
                colorClass: 'line-color-10' 
            },
            '18': { 
                stations: ['富华路', '歇台子', '奥体中心', '石坪桥', '杨家坪', '滩子口', '黄桷坪', '四川美术学院', '电厂', '李家沱大桥', '重庆理工大学', '花溪工业园', '巴滨路湿地公园', '茄子溪', '白居寺', '伏牛溪', '金鳌山', '跳磴', '跳磴南'], 
                colorClass: 'line-color-18' 
            },
            '环': { 
                stations: ['重庆图书馆', '天星桥', '沙坪坝', '重庆大学', '玉带山', '南桥寺', '体育公园', '冉家坝', '动步公园', '洪湖东路', '光电园', '大竹林', '康庄', '九曲河', '礼嘉', '平场', '黄茅坪', '高义口', '欢乐谷', '国博中心', '悦来', '王家坪', '弹子石', '涂山', '仁济', '上新街', '上浩', '海棠溪', '罗家坝', '四公里', '南湖', '海峡路', '谢家湾', '奥体中心', '陈家坪', '彩云湖', '二郎', '凤凰台', '重庆西站', '华岩寺'], 
                colorClass: 'line-color-huan' 
            },
            '国博': { 
                stations: ['礼嘉', '欢乐谷', '黄茅坪', '高义口', '国博中心', '悦来', '王家庄', '清溪河', '刘家院子', '思源', '复兴', '红岩坪', '沙河坝'], 
                colorClass: 'line-color-gbx' 
            }
        };

        // 获取线路配置的辅助函数
        function getLineConfig(lineCode) {
            return lineConfig[lineCode] || { stations: [], colorClass: '' };
        }

        // 当前选择的站点信息
        let selectedStations = {
            start: { line: null, station: null },
            end: { line: null, station: null }
        };

        // 更新站点列表 - 优化版本
        function updateStationList(type) {
            const lineSelect = document.getElementById(type + 'Line');
            const stationSelect = document.getElementById(type + 'Station');
            const selectedDiv = document.getElementById(type + 'Selected');
            const selectedLine = lineSelect.value;

            if (!selectedLine) {
                stationSelect.innerHTML = '<option value="">请先选择线路</option>';
                stationSelect.disabled = true;
                selectedDiv.style.display = 'none';
                selectedStations[type] = { line: null, station: null };
                return;
            }

            // 清空并启用站点选择
            stationSelect.innerHTML = '<option value="">请选择站点</option>';
            stationSelect.disabled = false;

            // 根据线路填充站点 - 使用映射对象优化
            const config = getLineConfig(selectedLine);
            config.stations.forEach(station => {
                const option = new Option(station, station);
                stationSelect.add(option);
            });

            // 更新选择信息
            selectedStations[type].line = selectedLine;
            selectedStations[type].station = null;
            updateSelectedDisplay(type);
        }

        // 更新选择显示 - 优化版本
        function updateSelectedDisplay(type) {
            const selectedDiv = document.getElementById(type + 'Selected');
            const selection = selectedStations[type];

            if (selection.line && selection.station) {
                const config = getLineConfig(selection.line);
                selectedDiv.innerHTML = `已选择：<span class="${config.colorClass}">${selection.line}号线</span> - ${selection.station}`;
                selectedDiv.style.display = 'block';
            } else if (selection.line) {
                const config = getLineConfig(selection.line);
                selectedDiv.innerHTML = `已选择线路：<span class="${config.colorClass}">${selection.line}号线</span>`;
                selectedDiv.style.display = 'block';
            } else {
                selectedDiv.style.display = 'none';
            }
        }

        // 站点选择改变事件
        function onStationChange(type) {
            const stationSelect = document.getElementById(type + 'Station');
            selectedStations[type].station = stationSelect.value;
            updateSelectedDisplay(type);
        }

        // 计算票价
        function calculateFare() {
            const start = selectedStations.start;
            const end = selectedStations.end;
            const resultDiv = document.getElementById('result');

            if (!start.line || !start.station || !end.line || !end.station) {
                resultDiv.innerHTML = '<div class="error">请选择完整的起点和终点站</div>';
                resultDiv.style.display = 'block';
                return;
            }

            if (start.line === end.line && start.station === end.station) {
                resultDiv.innerHTML = '<div class="error">起点和终点站不能相同</div>';
                resultDiv.style.display = 'block';
                return;
            }

            // 模拟计算票价（这里可以根据实际需求实现）
            const fare = Math.floor(Math.random() * 8) + 2; // 2-9元随机票价
            
            const startConfig = getLineConfig(start.line);
            const endConfig = getLineConfig(end.line);
            
            resultDiv.innerHTML = `
                <h3>票价计算结果</h3>
                <p><strong>起点：</strong><span class="${startConfig.colorClass}">${start.line}号线</span> - ${start.station}</p>
                <p><strong>终点：</strong><span class="${endConfig.colorClass}">${end.line}号线</span> - ${end.station}</p>
                <p><strong>票价：</strong><span style="color: #e74c3c; font-size: 20px; font-weight: bold;">${fare}元</span></p>
            `;
            resultDiv.style.display = 'block';
        }
    </script>
</body>
</html> 