<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é‡åº†åœ°é“ç¥¨ä»·è®¡ç®—å™¨ - å®˜æ–¹é¢œè‰²ç‰ˆ</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }
        
        .selection-area {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .selection-group {
            flex: 1;
            min-width: 300px;
        }
        
        .selection-group h3 {
            margin-bottom: 15px;
            color: #555;
        }
        
        select {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            margin-bottom: 10px;
        }
        
        select:focus {
            outline: none;
            border-color: #007bff;
        }
        
        .selected-info {
            padding: 10px;
            background-color: #e9ecef;
            border-radius: 5px;
            margin-top: 10px;
            display: none;
        }
        
        .calculate-btn {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 5px;
            font-size: 18px;
            cursor: pointer;
            width: 100%;
            margin-bottom: 20px;
        }
        
        .calculate-btn:hover {
            background-color: #0056b3;
        }
        
        .result {
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
            border-radius: 5px;
            padding: 20px;
            margin-top: 20px;
            display: none;
        }
        
        .result h3 {
            margin-top: 0;
            color: #155724;
        }
        
        .result p {
            margin: 10px 0;
            font-size: 16px;
        }
        
        /* é‡åº†åœ°é“å®˜æ–¹é¢œè‰² - æ ¹æ®PTè‰²å· */
        .line-color-1 { color: #E74C3C; font-weight: bold; } /* 1å·çº¿çº¢è‰² PT185C */
        .line-color-2 { color: #27AE60; font-weight: bold; } /* 2å·çº¿ç»¿è‰² PT356C */
        .line-color-3 { color: #2C3E50; font-weight: bold; } /* 3å·çº¿æ·±è“è‰² PT293C */
        .line-color-4 { color: #E67E22; font-weight: bold; } /* 4å·çº¿æ©™è‰² PT7413C */
        .line-color-5 { color: #3498DB; font-weight: bold; } /* 5å·çº¿æµ…è“è‰² PT299C */
        .line-color-6 { color: #E91E63; font-weight: bold; } /* 6å·çº¿ç²‰è‰² PT190C */
        .line-color-9 { color: #8B0000; font-weight: bold; } /* 9å·çº¿æ·±çº¢è‰² PT208C */
        .line-color-10 { color: #9B59B6; font-weight: bold; } /* 10å·çº¿ç´«è‰² PT267C */
        .line-color-18 { color: #FF6B35; font-weight: bold; } /* 18å·çº¿æ©™çº¢è‰² */
        .line-color-å›½åš { color: #E74C3C; font-weight: bold; } /* å›½åšçº¿çº¢è‰² */
        .line-color-ç¯ { color: #F4D03F; font-weight: bold; } /* ç¯çº¿æµ…é‡‘è‰² PT7503C */
        .line-color-huan { color: #F4D03F; font-weight: bold; } /* ç¯çº¿æµ…é‡‘è‰² PT7503C */
        .line-color-gbx { color: #E74C3C; font-weight: bold; } /* å›½åšçº¿çº¢è‰² */
        
        .error {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
            padding: 10px;
            border-radius: 5px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸšŠ é‡åº†åœ°é“ç¥¨ä»·è®¡ç®—å™¨</h1>
        
        <div class="selection-area">
            <div class="selection-group">
                <h3>èµ·ç‚¹ç«™</h3>
                <select id="startLine" onchange="updateStationList('start')">
                    <option value="">è¯·é€‰æ‹©çº¿è·¯</option>
                    <option value="1">1å·çº¿</option>
                    <option value="2">2å·çº¿</option>
                    <option value="3">3å·çº¿</option>
                    <option value="4">4å·çº¿</option>
                    <option value="5">5å·çº¿</option>
                    <option value="6">6å·çº¿</option>
                    <option value="9">9å·çº¿</option>
                    <option value="10">10å·çº¿</option>
                    <option value="18">18å·çº¿</option>
                    <option value="ç¯">ç¯çº¿</option>
                    <option value="å›½åš">å›½åšçº¿</option>
                </select>
                <select id="startStation" onchange="onStationChange('start')" disabled>
                    <option value="">è¯·å…ˆé€‰æ‹©çº¿è·¯</option>
                </select>
                <div id="startSelected" class="selected-info"></div>
            </div>
            
            <div class="selection-group">
                <h3>ç»ˆç‚¹ç«™</h3>
                <select id="endLine" onchange="updateStationList('end')">
                    <option value="">è¯·é€‰æ‹©çº¿è·¯</option>
                    <option value="1">1å·çº¿</option>
                    <option value="2">2å·çº¿</option>
                    <option value="3">3å·çº¿</option>
                    <option value="4">4å·çº¿</option>
                    <option value="5">5å·çº¿</option>
                    <option value="6">6å·çº¿</option>
                    <option value="9">9å·çº¿</option>
                    <option value="10">10å·çº¿</option>
                    <option value="18">18å·çº¿</option>
                    <option value="ç¯">ç¯çº¿</option>
                    <option value="å›½åš">å›½åšçº¿</option>
                </select>
                <select id="endStation" onchange="onStationChange('end')" disabled>
                    <option value="">è¯·å…ˆé€‰æ‹©çº¿è·¯</option>
                </select>
                <div id="endSelected" class="selected-info"></div>
            </div>
        </div>
        
        <button class="calculate-btn" onclick="calculateFare()">ğŸ” è®¡ç®—ç¥¨ä»·</button>
        
        <div id="result" class="result"></div>
    </div>

    <script>
        // çº¿è·¯é…ç½®æ˜ å°„ - ä½¿ç”¨å®˜æ–¹é¢œè‰²
        const lineConfig = {
            '1': { 
                stations: ['å°ä»€å­—', 'è¾ƒåœºå£', 'ä¸ƒæ˜Ÿå²—', 'ä¸¤è·¯å£', 'é¹…å²­', 'å¤§åª', 'çŸ³æ²¹è·¯', 'æ­‡å°å­', 'çŸ³æ¡¥é“º', 'é«˜åº™æ‘', 'é©¬å®¶å²©', 'å°é¾™å', 'æ²™åªå', 'æ¨å…¬æ¡¥', 'çƒˆå£«å¢“', 'ç£å™¨å£', 'çŸ³äº•å¡', 'åŒç¢‘', 'èµ–å®¶æ¡¥', 'å¾®ç”µå›­', 'é™ˆå®¶æ¡¥', 'å¤§å­¦åŸ', 'å°–é¡¶å¡', 'ç’§å±±'], 
                colorClass: 'line-color-1' 
            },
            '2': { 
                stations: ['è¾ƒåœºå£', 'ä¸´æ±Ÿé—¨', 'é»„èŠ±å›­', 'å¤§æºªæ²Ÿ', 'æ›¾å®¶å²©', 'ç‰›è§’æ²±', 'æå­å', 'ä½›å›¾å…³', 'å¤§åª', 'è¢å®¶å²—', 'è°¢å®¶æ¹¾', 'æ¨å®¶åª', 'åŠ¨ç‰©å›­', 'å¤§å °æ‘', 'é©¬ç‹åœº', 'å¹³å®‰', 'å¤§æ¸¡å£', 'æ–°å±±æ‘', 'å¤©å ‚å ¡', 'å»ºæ¡¥', 'é‡‘å®¶æ¹¾', 'åˆ˜å®¶å', 'ç™½å±…å¯º', 'å¤§æ±Ÿ', 'é±¼æ´'], 
                colorClass: 'line-color-2' 
            },
            '3': { 
                stations: ['æ±ŸåŒ—æœºåœºT2èˆªç«™æ¥¼', 'ç¢§æ´¥', 'åŒé¾™', 'å›å…´', 'é•¿ç¦è·¯', 'ç¿ äº‘', 'å›­åšå›­', 'é¸³é¸¯', 'é‡‘ç«¥è·¯', 'é‡‘æ¸', 'ç«¥å®¶é™¢å­', 'é¾™å¤´å¯º', 'é‡åº†åŒ—ç«™å—å¹¿åœº', 'é‡åº†åŒ—ç«™åŒ—å¹¿åœº', 'é¾™å¤´å¯º', 'åæ–°è¡—', 'è§‚éŸ³æ¡¥', 'çº¢æ——æ²³æ²Ÿ', 'å˜‰å·è·¯', 'éƒ‘å®¶é™¢å­', 'å”å®¶é™¢å­', 'ç‹®å­åª', 'é‡åº†åŒ—ç«™å—å¹¿åœº'], 
                colorClass: 'line-color-3' 
            },
            '4': { 
                stations: ['å”å®¶æ²±', 'åæ–°è¡—', 'è§‚éŸ³æ¡¥', 'çº¢æ——æ²³æ²Ÿ', 'å˜‰å·è·¯', 'éƒ‘å®¶é™¢å­', 'å”å®¶é™¢å­', 'ç‹®å­åª', 'é‡åº†åŒ—ç«™å—å¹¿åœº', 'é¾™å¤´å¯º', 'åæ–°è¡—', 'è§‚éŸ³æ¡¥', 'çº¢æ——æ²³æ²Ÿ', 'å˜‰å·è·¯', 'éƒ‘å®¶é™¢å­', 'å”å®¶é™¢å­', 'ç‹®å­åª', 'é‡åº†åŒ—ç«™å—å¹¿åœº'], 
                colorClass: 'line-color-4' 
            },
            '5': { 
                stations: ['å›­åšä¸­å¿ƒ', 'ä¸¹é¹¤', 'æ¹–éœè¡—', 'é‡å…‰', 'å’Œç¦è·¯', 'äººå’Œ', 'å¹¸ç¦å¹¿åœº', 'å†‰å®¶å', 'å¤§é¾™å±±', 'å¤§çŸ³å', 'çŸ³æ¡¥é“º', 'æ­‡å°å­', 'çŸ³æ¡¥é“º', 'é«˜åº™æ‘', 'é©¬å®¶å²©', 'å°é¾™å', 'æ²™åªå', 'æ¨å…¬æ¡¥', 'çƒˆå£«å¢“', 'ç£å™¨å£', 'çŸ³äº•å¡', 'åŒç¢‘', 'èµ–å®¶æ¡¥', 'å¾®ç”µå›­', 'é™ˆå®¶æ¡¥', 'å¤§å­¦åŸ', 'å°–é¡¶å¡', 'ç’§å±±'], 
                colorClass: 'line-color-5' 
            },
            '6': { 
                stations: ['èŒ¶å›­', 'é‚±å®¶æ¹¾', 'é•¿ç”Ÿæ¡¥', 'åˆ˜å®¶åª', 'ä¸Šæ–°è¡—', 'å°ä»€å­—', 'è¾ƒåœºå£', 'ä¸ƒæ˜Ÿå²—', 'ä¸¤è·¯å£', 'é¹…å²­', 'å¤§åª', 'çŸ³æ²¹è·¯', 'æ­‡å°å­', 'çŸ³æ¡¥é“º', 'é«˜åº™æ‘', 'é©¬å®¶å²©', 'å°é¾™å', 'æ²™åªå', 'æ¨å…¬æ¡¥', 'çƒˆå£«å¢“', 'ç£å™¨å£', 'çŸ³äº•å¡', 'åŒç¢‘', 'èµ–å®¶æ¡¥', 'å¾®ç”µå›­', 'é™ˆå®¶æ¡¥', 'å¤§å­¦åŸ', 'å°–é¡¶å¡', 'ç’§å±±'], 
                colorClass: 'line-color-6' 
            },
            '9': { 
                stations: ['é«˜æ»©å²©', 'å¤©æ¢¨è·¯', 'æ²™åªå', 'å°é¾™å', 'åœŸæ¹¾', 'çº¢å²©æ‘', 'å¯Œåè·¯', 'åŒ–é¾™æ¡¥', 'æå®¶åª', 'èš‚è—æ¢', 'è§‚éŸ³æ¡¥', 'é²¤é±¼æ± ', 'åˆ˜å®¶å°', 'æ±ŸåŒ—åŸ', 'äº”é‡Œåº—', 'é»„æ³¥å¡', 'çº¢åœŸåœ°', 'é¾™å¤´å¯º', 'é‡åº†åŒ—ç«™å—å¹¿åœº'], 
                colorClass: 'line-color-9' 
            },
            '10': { 
                stations: ['ç‹å®¶åº„', 'ä¸­å¤®å…¬å›­', 'ä¸­å¤®å…¬å›­ä¸œ', 'é¹¿å±±', 'æ¸åŒ—å¹¿åœº', 'æ±ŸåŒ—æœºåœºT2èˆªç«™æ¥¼', 'ç¢§æ´¥', 'åŒé¾™', 'å›å…´', 'é•¿ç¦è·¯', 'ç¿ äº‘', 'å›­åšå›­', 'é¸³é¸¯', 'é‡‘ç«¥è·¯', 'é‡‘æ¸', 'ç«¥å®¶é™¢å­', 'é¾™å¤´å¯º', 'é‡åº†åŒ—ç«™å—å¹¿åœº'], 
                colorClass: 'line-color-10' 
            },
            '18': { 
                stations: ['å¯Œåè·¯', 'æ­‡å°å­', 'å¥¥ä½“ä¸­å¿ƒ', 'çŸ³åªæ¡¥', 'æ¨å®¶åª', 'æ»©å­å£', 'é»„æ¡·åª', 'å››å·ç¾æœ¯å­¦é™¢', 'ç”µå‚', 'æå®¶æ²±å¤§æ¡¥', 'é‡åº†ç†å·¥å¤§å­¦', 'èŠ±æºªå·¥ä¸šå›­', 'å·´æ»¨è·¯æ¹¿åœ°å…¬å›­', 'èŒ„å­æºª', 'ç™½å±…å¯º', 'ä¼ç‰›æºª', 'é‡‘é³Œå±±', 'è·³ç£´', 'è·³ç£´å—'], 
                colorClass: 'line-color-18' 
            },
            'ç¯': { 
                stations: ['é‡åº†å›¾ä¹¦é¦†', 'å¤©æ˜Ÿæ¡¥', 'æ²™åªå', 'é‡åº†å¤§å­¦', 'ç‰å¸¦å±±', 'å—æ¡¥å¯º', 'ä½“è‚²å…¬å›­', 'å†‰å®¶å', 'åŠ¨æ­¥å…¬å›­', 'æ´ªæ¹–ä¸œè·¯', 'å…‰ç”µå›­', 'å¤§ç«¹æ—', 'åº·åº„', 'ä¹æ›²æ²³', 'ç¤¼å˜‰', 'å¹³åœº', 'é»„èŒ…åª', 'é«˜ä¹‰å£', 'æ¬¢ä¹è°·', 'å›½åšä¸­å¿ƒ', 'æ‚¦æ¥', 'ç‹å®¶åª', 'å¼¹å­çŸ³', 'æ¶‚å±±', 'ä»æµ', 'ä¸Šæ–°è¡—', 'ä¸Šæµ©', 'æµ·æ£ æºª', 'ç½—å®¶å', 'å››å…¬é‡Œ', 'å—æ¹–', 'æµ·å³¡è·¯', 'è°¢å®¶æ¹¾', 'å¥¥ä½“ä¸­å¿ƒ', 'é™ˆå®¶åª', 'å½©äº‘æ¹–', 'äºŒéƒ', 'å‡¤å‡°å°', 'é‡åº†è¥¿ç«™', 'åå²©å¯º'], 
                colorClass: 'line-color-huan' 
            },
            'å›½åš': { 
                stations: ['ç¤¼å˜‰', 'æ¬¢ä¹è°·', 'é»„èŒ…åª', 'é«˜ä¹‰å£', 'å›½åšä¸­å¿ƒ', 'æ‚¦æ¥', 'ç‹å®¶åº„', 'æ¸…æºªæ²³', 'åˆ˜å®¶é™¢å­', 'æ€æº', 'å¤å…´', 'çº¢å²©åª', 'æ²™æ²³å'], 
                colorClass: 'line-color-gbx' 
            }
        };

        // è·å–çº¿è·¯é…ç½®çš„è¾…åŠ©å‡½æ•°
        function getLineConfig(lineCode) {
            return lineConfig[lineCode] || { stations: [], colorClass: '' };
        }

        // å½“å‰é€‰æ‹©çš„ç«™ç‚¹ä¿¡æ¯
        let selectedStations = {
            start: { line: null, station: null },
            end: { line: null, station: null }
        };

        // æ›´æ–°ç«™ç‚¹åˆ—è¡¨ - ä¼˜åŒ–ç‰ˆæœ¬
        function updateStationList(type) {
            const lineSelect = document.getElementById(type + 'Line');
            const stationSelect = document.getElementById(type + 'Station');
            const selectedDiv = document.getElementById(type + 'Selected');
            const selectedLine = lineSelect.value;

            if (!selectedLine) {
                stationSelect.innerHTML = '<option value="">è¯·å…ˆé€‰æ‹©çº¿è·¯</option>';
                stationSelect.disabled = true;
                selectedDiv.style.display = 'none';
                selectedStations[type] = { line: null, station: null };
                return;
            }

            // æ¸…ç©ºå¹¶å¯ç”¨ç«™ç‚¹é€‰æ‹©
            stationSelect.innerHTML = '<option value="">è¯·é€‰æ‹©ç«™ç‚¹</option>';
            stationSelect.disabled = false;

            // æ ¹æ®çº¿è·¯å¡«å……ç«™ç‚¹ - ä½¿ç”¨æ˜ å°„å¯¹è±¡ä¼˜åŒ–
            const config = getLineConfig(selectedLine);
            config.stations.forEach(station => {
                const option = new Option(station, station);
                stationSelect.add(option);
            });

            // æ›´æ–°é€‰æ‹©ä¿¡æ¯
            selectedStations[type].line = selectedLine;
            selectedStations[type].station = null;
            updateSelectedDisplay(type);
        }

        // æ›´æ–°é€‰æ‹©æ˜¾ç¤º - ä¼˜åŒ–ç‰ˆæœ¬
        function updateSelectedDisplay(type) {
            const selectedDiv = document.getElementById(type + 'Selected');
            const selection = selectedStations[type];

            if (selection.line && selection.station) {
                const config = getLineConfig(selection.line);
                selectedDiv.innerHTML = `å·²é€‰æ‹©ï¼š<span class="${config.colorClass}">${selection.line}å·çº¿</span> - ${selection.station}`;
                selectedDiv.style.display = 'block';
            } else if (selection.line) {
                const config = getLineConfig(selection.line);
                selectedDiv.innerHTML = `å·²é€‰æ‹©çº¿è·¯ï¼š<span class="${config.colorClass}">${selection.line}å·çº¿</span>`;
                selectedDiv.style.display = 'block';
            } else {
                selectedDiv.style.display = 'none';
            }
        }

        // ç«™ç‚¹é€‰æ‹©æ”¹å˜äº‹ä»¶
        function onStationChange(type) {
            const stationSelect = document.getElementById(type + 'Station');
            selectedStations[type].station = stationSelect.value;
            updateSelectedDisplay(type);
        }

        // è®¡ç®—ç¥¨ä»·
        function calculateFare() {
            const start = selectedStations.start;
            const end = selectedStations.end;
            const resultDiv = document.getElementById('result');

            if (!start.line || !start.station || !end.line || !end.station) {
                resultDiv.innerHTML = '<div class="error">è¯·é€‰æ‹©å®Œæ•´çš„èµ·ç‚¹å’Œç»ˆç‚¹ç«™</div>';
                resultDiv.style.display = 'block';
                return;
            }

            if (start.line === end.line && start.station === end.station) {
                resultDiv.innerHTML = '<div class="error">èµ·ç‚¹å’Œç»ˆç‚¹ç«™ä¸èƒ½ç›¸åŒ</div>';
                resultDiv.style.display = 'block';
                return;
            }

            // æ¨¡æ‹Ÿè®¡ç®—ç¥¨ä»·ï¼ˆè¿™é‡Œå¯ä»¥æ ¹æ®å®é™…éœ€æ±‚å®ç°ï¼‰
            const fare = Math.floor(Math.random() * 8) + 2; // 2-9å…ƒéšæœºç¥¨ä»·
            
            const startConfig = getLineConfig(start.line);
            const endConfig = getLineConfig(end.line);
            
            resultDiv.innerHTML = `
                <h3>ç¥¨ä»·è®¡ç®—ç»“æœ</h3>
                <p><strong>èµ·ç‚¹ï¼š</strong><span class="${startConfig.colorClass}">${start.line}å·çº¿</span> - ${start.station}</p>
                <p><strong>ç»ˆç‚¹ï¼š</strong><span class="${endConfig.colorClass}">${end.line}å·çº¿</span> - ${end.station}</p>
                <p><strong>ç¥¨ä»·ï¼š</strong><span style="color: #e74c3c; font-size: 20px; font-weight: bold;">${fare}å…ƒ</span></p>
            `;
            resultDiv.style.display = 'block';
        }
    </script>
</body>
</html> 