# 重庆地铁票价计算器 3号线集成说明

本项目的主页面为 [metro_fare_calculator.html](mdc:metro_fare_calculator.html)，用于计算重庆地铁1/2/3号线的票价和里程。

## 3号线正式环境集成要点

### 1. 站点列表

在 `<script>` 部分，3号线站点列表如下：

```js
const line3Stations = [
    "鱼洞", "金竹", "鱼胡路", "学堂湾", "八公里", "二塘", "六公里", "花溪", "岔路口", "九公里", "麒龙", "八公里2", "重庆工大", "四公里", "南坪", "工贸", "铜元局", "两路口", "牛角沱", "华新街", "观音桥", "红旗河沟", "嘉州路", "郑家院子", "唐家院子", "狮子坪", "重庆北站南广场", "龙头寺", "童家院子", "金渝", "金童路", "鸳鸯", "园博园", "翠云", "长福路", "回兴", "双龙", "碧津", "江北机场T2航站楼", "江北机场T3航站楼", "空港广场", "高堡湖", "三亚湾", "举人坝"
];
```

### 2. 距离数据

3号线距离数据需完整补全，格式如下（示例为前10站，正式环境需补全所有站点）：

```js
const line3Distances = {
    "鱼洞": {
        "金竹": 1.897, "鱼胡路": 3.528, "学堂湾": 5.381, "八公里": 7.456, "二塘": 9.756, "六公里": 11.674, "花溪": 12.683, "岔路口": 13.881, "九公里": 15.104, "麒龙": 16.374
        // ... 补全所有站点
    },
    "金竹": {
        "鱼洞": 1.897, "鱼胡路": 1.631, "学堂湾": 3.484, "八公里": 5.559, "二塘": 7.859, "六公里": 9.777, "花溪": 10.786, "岔路口": 11.984, "九公里": 13.207, "麒龙": 14.477
        // ... 补全所有站点
    },
    // ... 依次补全所有站点
};
```

### 3. 线路选择器

在所有 `<select>` 线路下拉框中，需加入：

```html
<option value="3">3号线</option>
```

### 4. 站点选择逻辑

在 `updateStationList` 函数中，需支持3号线：

```js
let stations;
if (selectedLine === '1') stations = line1Stations;
else if (selectedLine === '2') stations = line2Stations;
else if (selectedLine === '3') stations = line3Stations;
```

### 5. 距离获取逻辑

在 `getDistance` 函数中，需支持3号线：

```js
let distances;
if (line === '1') distances = line1Distances;
else if (line === '2') distances = line2Distances;
else if (line === '3') distances = line3Distances;
```

### 6. 换乘站点

`findShortestPath` 函数中的换乘站点需包含3号线与其它线路的换乘站：

```js
const transferStations = [
    "较场口", "大坪", "两路口", "牛角沱", "红旗河沟", "观音桥", "南坪", "四公里", "重庆北站南广场"
];
```

### 7. 样式支持

建议在CSS中补充3号线样式：

```css
.line-3 { background-color: #f1c40f; }
.line-color-3 { color: #f1c40f; font-weight: bold; }
```

### 8. 其它

- 票价计算规则、换乘逻辑与1/2号线一致。
- 需保证所有站点距离数据完整，避免路径查找失败。

---

**如需批量生成距离数据JS对象，可将表格转为CSV后用脚本处理。**

---
description:
globs:
alwaysApply: false
---
